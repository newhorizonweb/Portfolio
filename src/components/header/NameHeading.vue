


<template>

<svg class="name-heading head-svg" ref="headingSvg"
    data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 188.7 72"><path class="cls-1" d="M27.3,26,34.7,4.4h0a2.2,2.2,0,0,0,.1-.8A2.2,2.2,0,0,0,34,1.8a2.3,2.3,0,0,0-2.9-.2,1.4,1.4,0,0,0-.9,1.1L24.7,19,20.3,7.9a2,2,0,0,0-.9-1.1,2,2,0,0,0-1.3-.4,2,2,0,0,0-1.3.4,2,2,0,0,0-.9,1.1L11.3,19.1,5.8,2.7a2,2,0,0,0-.9-1.1,2.4,2.4,0,0,0-3,.2,2.5,2.5,0,0,0-.8,1.8,2.5,2.5,0,0,0,.1.8L8.6,26a1.6,1.6,0,0,0,.9,1.1l1.2.4a2.2,2.2,0,0,0,1.3-.4,2,2,0,0,0,.9-1.1L18,14.2,23,26a1.8,1.8,0,0,0,1,1.1,2,2,0,0,0,1.3.4h0l1.2-.4A1.8,1.8,0,0,0,27.3,26Z"/><path class="cls-1" d="M61.3,19.7a15.5,15.5,0,0,0,.9-5.3,15.1,15.1,0,0,0-.9-5.3,13.6,13.6,0,0,0-2.7-4.3,11.2,11.2,0,0,0-4-2.8A12.6,12.6,0,0,0,49.5.9,12.3,12.3,0,0,0,44.4,2a11.2,11.2,0,0,0-4,2.8,13.4,13.4,0,0,0-2.6,4.3,13.2,13.2,0,0,0-1,5.3,13.5,13.5,0,0,0,1,5.3,12.9,12.9,0,0,0,2.6,4.2,11.4,11.4,0,0,0,4,2.9,12.2,12.2,0,0,0,5.1,1,12.5,12.5,0,0,0,5.1-1,11.4,11.4,0,0,0,4-2.9A13.2,13.2,0,0,0,61.3,19.7Z"/><path class="cls-1" d="M49.5,23.2a6.7,6.7,0,0,1-4-1.1,8,8,0,0,1-2.8-3.2,10.6,10.6,0,0,1-1-4.5,11.1,11.1,0,0,1,1-4.6,7.7,7.7,0,0,1,2.8-3.1,7.3,7.3,0,0,1,8,0,7.7,7.7,0,0,1,2.8,3.1,10,10,0,0,1,1,4.6,9.3,9.3,0,0,1-1,4.5,8,8,0,0,1-2.8,3.2A6.7,6.7,0,0,1,49.5,23.2Z"/><path class="cls-1" d="M81.2,19.3V3.6A2.3,2.3,0,0,0,80.6,2a2.1,2.1,0,0,0-1.7-.7,2.5,2.5,0,0,0-1.7.6,2.2,2.2,0,0,0-.7,1.7V19.3a3.6,3.6,0,0,1-.6,2,3.2,3.2,0,0,1-1.4,1.4,4.2,4.2,0,0,1-3.9.1,5.8,5.8,0,0,1-1.5-1.3,3,3,0,0,0-.8-.8,2.4,2.4,0,0,0-3.5,2,3.8,3.8,0,0,0,.4,1.3,8.4,8.4,0,0,0,3.1,2.8,8,8,0,0,0,4.1,1,9.4,9.4,0,0,0,4.5-1.1,9.5,9.5,0,0,0,3.2-3.1A9.2,9.2,0,0,0,81.2,19.3Z"/><path class="cls-1" d="M106.8,24.6h0a2.7,2.7,0,0,0-.5-1.9,1.9,1.9,0,0,0-1.4-.8,3.1,3.1,0,0,0-1.6.2,6.7,6.7,0,0,1-2.1.9,10.6,10.6,0,0,1-5.6-.3A9.5,9.5,0,0,1,92.9,21a11.2,11.2,0,0,1-1.8-2.8,11.2,11.2,0,0,1-.6-3.8,10.5,10.5,0,0,1,.6-3.6,8.3,8.3,0,0,1,1.7-2.7,6.4,6.4,0,0,1,2.7-1.8A7.8,7.8,0,0,1,99,5.6l2.3.3a7.2,7.2,0,0,1,2,.9l1.6.3a2.2,2.2,0,0,0,1.3-.8,2.3,2.3,0,0,0,.6-1.9,2,2,0,0,0-1.2-1.6,11.3,11.3,0,0,0-3.2-1.3,14.6,14.6,0,0,0-8.7.6,12.6,12.6,0,0,0-4.3,2.7,12.3,12.3,0,0,0-2.8,4.3,13.2,13.2,0,0,0-1,5.3,13.2,13.2,0,0,0,1.1,5.7,11.7,11.7,0,0,0,2.9,4.2,11.8,11.8,0,0,0,4.3,2.6,14.4,14.4,0,0,0,5.1.9,9.3,9.3,0,0,0,2.3-.2,9.8,9.8,0,0,0,2.3-.6,7.2,7.2,0,0,0,2-.9A1.8,1.8,0,0,0,106.8,24.6Z"/><path class="cls-1" d="M113.1,27.5a2.2,2.2,0,0,0,1.7-.7,2.1,2.1,0,0,0,.7-1.7V3.6a2.2,2.2,0,0,0-.7-1.7,2.3,2.3,0,0,0-1.6-.6,2.4,2.4,0,0,0-1.7.6,2.3,2.3,0,0,0-.7,1.7V25.1a2.4,2.4,0,0,0,.6,1.7A2.1,2.1,0,0,0,113.1,27.5Z"/><path class="cls-1" d="M136,5.7a2.5,2.5,0,0,0,1.7-.6,2.2,2.2,0,0,0,.7-1.6,2.6,2.6,0,0,0-.7-1.6,2.4,2.4,0,0,0-1.7-.6H123.6a2.7,2.7,0,0,0-1.7.6,2.7,2.7,0,0,0-.6,1.7V25.1a2.2,2.2,0,0,0,2.3,2.4H136a2.5,2.5,0,0,0,1.7-.6,2.6,2.6,0,0,0,.7-1.6,2.4,2.4,0,0,0-.7-1.6A2.1,2.1,0,0,0,136,23h-9.9V16.3h8.3a2.5,2.5,0,0,0,1.7-.6,2.2,2.2,0,0,0,.7-1.6,2.4,2.4,0,0,0-.7-1.6,2.2,2.2,0,0,0-1.7-.7h-8.3V5.7Z"/><path class="cls-1" d="M160.7,21.9h0a2.9,2.9,0,0,0-1.6.2,9.5,9.5,0,0,1-2.1.9,10.9,10.9,0,0,1-5.7-.3,7.8,7.8,0,0,1-2.6-1.7,7.5,7.5,0,0,1-1.8-2.8,11.2,11.2,0,0,1-.6-3.8,10.5,10.5,0,0,1,.6-3.6,5.9,5.9,0,0,1,1.7-2.7,6.8,6.8,0,0,1,2.6-1.8,7.8,7.8,0,0,1,3.5-.7,8.5,8.5,0,0,1,2.3.3,6.7,6.7,0,0,1,2.1.9,4,4,0,0,0,1.5.3,2.2,2.2,0,0,0,1.4-.8,2.2,2.2,0,0,0,.5-1.9,2.1,2.1,0,0,0-1.1-1.6,12.7,12.7,0,0,0-3.2-1.3,13.4,13.4,0,0,0-3.5-.4,13.6,13.6,0,0,0-9.5,3.7,14.2,14.2,0,0,0-2.9,4.3,15.1,15.1,0,0,0-1,5.3,14.8,14.8,0,0,0,1.1,5.7,10.8,10.8,0,0,0,3,4.2,11.4,11.4,0,0,0,4.2,2.6,14.4,14.4,0,0,0,5.1.9,9.7,9.7,0,0,0,2.4-.2,9,9,0,0,0,2.2-.6,6.7,6.7,0,0,0,2.1-.9,2.3,2.3,0,0,0,1.2-1.5,2.4,2.4,0,0,0-.6-1.9A1.6,1.6,0,0,0,160.7,21.9Z"/><path class="cls-1" d="M186.9,2h0a2.1,2.1,0,0,0-1.7-.7,2.3,2.3,0,0,0-1.6.6,2.3,2.3,0,0,0-.8,1.7V12H171.3V3.6a2.2,2.2,0,0,0-.7-1.7,2.5,2.5,0,0,0-1.6-.6,2.8,2.8,0,0,0-1.8.6,2.8,2.8,0,0,0-.7,1.7V25.1a2.4,2.4,0,0,0,2.4,2.4,2.3,2.3,0,0,0,1.7-.7,2.4,2.4,0,0,0,.7-1.7V16.5h11.5v8.6a2.4,2.4,0,0,0,.7,1.7,2.2,2.2,0,0,0,1.7.7,2.4,2.4,0,0,0,2.4-2.4V3.6A2,2,0,0,0,186.9,2Z"/><path class="cls-1" d="M20.3,56.8h0l-.8-.5a5.8,5.8,0,0,0,1.7-1.8,5.7,5.7,0,0,0,.9-3.2,6.9,6.9,0,0,0-1.9-5.1,7.8,7.8,0,0,0-5.4-1.7H5.6a2.5,2.5,0,0,0-1.7.6,2.7,2.7,0,0,0-.6,1.7V68.3A2.4,2.4,0,0,0,3.9,70a2.2,2.2,0,0,0,1.7.7h9.2a9.7,9.7,0,0,0,2.9-.4,7.7,7.7,0,0,0,2.8-1.2,6.4,6.4,0,0,0,2.1-2.5,8.7,8.7,0,0,0,.8-3.9,6.7,6.7,0,0,0-3.1-5.9Z"/><path class="cls-1" d="M18.5,62.7a3.7,3.7,0,0,1-1,2.7,4.6,4.6,0,0,1-2.7.8H8.2V59.3h6.4l1.9.3a3.1,3.1,0,0,1,1.4.9A3.4,3.4,0,0,1,18.5,62.7Z"/><path class="cls-1" d="M8.2,54.8V49h6.1a2.9,2.9,0,0,1,2.1.8,2.6,2.6,0,0,1,.8,2.1,2.7,2.7,0,0,1-.8,2.1,3.2,3.2,0,0,1-2,.8Z"/><path class="cls-1" d="M48.1,48a11.2,11.2,0,0,0-4-2.8A12.6,12.6,0,0,0,39,44.1a11.9,11.9,0,0,0-5.1,1.1,11.2,11.2,0,0,0-4,2.8,15.7,15.7,0,0,0-2.7,4.3,15.1,15.1,0,0,0-.9,5.3,15.5,15.5,0,0,0,.9,5.3,15.1,15.1,0,0,0,2.7,4.2,11.4,11.4,0,0,0,4,2.9A11.9,11.9,0,0,0,39,71a12.5,12.5,0,0,0,5.1-1,11.4,11.4,0,0,0,4-2.9,15.1,15.1,0,0,0,2.7-4.2,15.5,15.5,0,0,0,.9-5.3,15.1,15.1,0,0,0-.9-5.3A15.7,15.7,0,0,0,48.1,48Z"/><path class="cls-1" d="M39,66.4a6.7,6.7,0,0,1-4-1.1,8,8,0,0,1-2.8-3.2,10.6,10.6,0,0,1-1-4.5,11.1,11.1,0,0,1,1-4.6A7.7,7.7,0,0,1,35,49.9a7.3,7.3,0,0,1,8,0A7.7,7.7,0,0,1,45.8,53a10,10,0,0,1,1,4.6,9.3,9.3,0,0,1-1,4.5A8,8,0,0,1,43,65.3,6.7,6.7,0,0,1,39,66.4Z"/><path class="cls-1" d="M73.9,65.1h0a2.1,2.1,0,0,0-1.5.3l-2.1.8a10.9,10.9,0,0,1-5.7-.3A7.8,7.8,0,0,1,62,64.2a7.5,7.5,0,0,1-1.8-2.8,9.2,9.2,0,0,1-.7-3.8,10.5,10.5,0,0,1,.6-3.6,8.3,8.3,0,0,1,1.7-2.7,8,8,0,0,1,2.7-1.8,7.8,7.8,0,0,1,3.5-.7,8.5,8.5,0,0,1,2.3.3,9.5,9.5,0,0,1,2.1.9,4,4,0,0,0,1.5.3,2,2,0,0,0,1.4-.8,2.6,2.6,0,0,0,.5-1.9A2,2,0,0,0,74.6,46a10.7,10.7,0,0,0-3.1-1.3,13.4,13.4,0,0,0-3.5-.4,13.2,13.2,0,0,0-5.3,1A13.6,13.6,0,0,0,58.4,48a13.9,13.9,0,0,0-2.8,4.3,13.2,13.2,0,0,0-1,5.3,14.8,14.8,0,0,0,1.1,5.7,11.7,11.7,0,0,0,2.9,4.2,12.7,12.7,0,0,0,4.3,2.6A14.4,14.4,0,0,0,68,71a8.6,8.6,0,0,0,2.3-.2,8.6,8.6,0,0,0,2.3-.6,6.7,6.7,0,0,0,2.1-.9,1.9,1.9,0,0,0,1.1-1.5,2,2,0,0,0-.5-1.9A1.7,1.7,0,0,0,73.9,65.1Z"/><path class="cls-1" d="M98.5,44.5a2.7,2.7,0,0,0-1.7.6,2.6,2.6,0,0,0-.7,1.7v8.4H84.6V46.8a2.6,2.6,0,0,0-.7-1.7,2.5,2.5,0,0,0-1.6-.6,2.6,2.6,0,0,0-1.8.6,2.3,2.3,0,0,0-.7,1.7V68.3a2.4,2.4,0,0,0,2.4,2.4,2,2,0,0,0,1.6-.7,2.1,2.1,0,0,0,.8-1.7V59.7H96.1v8.6a2.1,2.1,0,0,0,.7,1.7,2.1,2.1,0,0,0,1.6.7,2.3,2.3,0,0,0,1.8-.7,2.4,2.4,0,0,0,.7-1.7V46.8a2.4,2.4,0,0,0-.7-1.6A2.1,2.1,0,0,0,98.5,44.5Z"/><path class="cls-1" d="M127,48h0a11.2,11.2,0,0,0-4-2.8,12.6,12.6,0,0,0-5.1-1.1,11.9,11.9,0,0,0-5.1,1.1,10.4,10.4,0,0,0-4,2.8,12.1,12.1,0,0,0-2.7,4.3,15.1,15.1,0,0,0-.9,5.3,15.5,15.5,0,0,0,.9,5.3,11.7,11.7,0,0,0,2.7,4.2,10.6,10.6,0,0,0,4,2.9,11.9,11.9,0,0,0,5.1,1,12.5,12.5,0,0,0,5.1-1,11.4,11.4,0,0,0,4-2.9,12.9,12.9,0,0,0,2.6-4.2,15.6,15.6,0,0,0,1-5.3,15.1,15.1,0,0,0-1-5.3A13.4,13.4,0,0,0,127,48Z"/><path class="cls-1" d="M117.9,66.4a7.2,7.2,0,0,1-4.1-1.1,8.6,8.6,0,0,1-2.7-3.2,9.3,9.3,0,0,1-1-4.5,9.7,9.7,0,0,1,1-4.6,8.2,8.2,0,0,1,2.7-3.1,7.3,7.3,0,0,1,4.1-1.2,7,7,0,0,1,4,1.2,7.4,7.4,0,0,1,2.7,3.1,10.1,10.1,0,0,1,1.1,4.6,9.4,9.4,0,0,1-1.1,4.5,7.7,7.7,0,0,1-2.7,3.2A6.9,6.9,0,0,1,117.9,66.4Z"/>
</svg>

<teleport to=".hero-icon-div" v-if="isMounted">
    <svg class="hero-icon head-svg"
        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 58.5 35.7"><path class="cls-1" d="M17.5,12.1a3,3,0,0,0,.2-1A2.3,2.3,0,0,0,17,9.4a2.2,2.2,0,0,0-2.7-.7l-1,.5L1.6,15.9a2.4,2.4,0,0,0-.8.9A2.7,2.7,0,0,0,.5,18a2,2,0,0,0,.3,1.1,2.5,2.5,0,0,0,.8,1L13.3,27l1,.5a2.3,2.3,0,0,0,1.1.3,2.2,2.2,0,0,0,1.6-.9,2.9,2.9,0,0,0,.7-1.8,3,3,0,0,0-.2-1,2.6,2.6,0,0,0-.9-.9L7.9,18l8.8-5.1A3,3,0,0,0,17.5,12.1Z"/><path class="cls-1" d="M38.1,1.1A2.1,2.1,0,0,0,35.4.9a2.2,2.2,0,0,0-.9,1L19.9,31.8a2.3,2.3,0,0,0-.3,1.1,2,2,0,0,0,.9,1.7,2.4,2.4,0,0,0,1.5.6,1.6,1.6,0,0,0,1.2-.4,2.2,2.2,0,0,0,.9-1L38.7,3.9a3.6,3.6,0,0,0,.2-1.1A2.1,2.1,0,0,0,38.1,1.1Z"/><path class="cls-1" d="M57.7,16.7a2.4,2.4,0,0,0-.8-.9L45.1,8.9l-.9-.6a2.2,2.2,0,0,0-2.7.6,3.2,3.2,0,0,0-.7,1.9,2.9,2.9,0,0,0,.2.9,2.4,2.4,0,0,0,.8.9l8.8,5.2L41.8,23a2.7,2.7,0,0,0-.8.7,3,3,0,0,0-.2,1,2.7,2.7,0,0,0,.7,1.8,2.1,2.1,0,0,0,1.7.8,1.6,1.6,0,0,0,1-.2l1-.4,11.7-6.8A2.6,2.6,0,0,0,58,17.8,2,2,0,0,0,57.7,16.7Z"/>
    </svg>
</teleport>

</template>



<script lang="ts">
import { defineComponent } from 'vue'

export default defineComponent({
    name: "NameHeading",

    props:[
        "pageScrollVal",
        "isMounted"
    ],

    data(){
        return{
            transDur: [1400, 3050], // The svg path transition duration in ms
            svgElems: [] as HTMLElement[]
        } 
    },

    mounted(){

        this.$nextTick(() => {
            this.svgElems = Array.from(document.querySelectorAll(".head-svg"));

            this.getPathLength();
            
            window.addEventListener("scroll", this.parallaxPaths);
        });

    },

    methods:{

        getPathLength(){

            this.svgElems.forEach((svgElem, svgIndex) => {
                const svgPaths = svgElem.querySelectorAll("path");

                for (let i = 0; i < svgPaths.length; i++){

                    const path = svgPaths[i];
                    const pathLength = path.getTotalLength();
                    const pathDelay = (i * 0.11).toString() + "s";

                    // Set initial state (no visible length)
                    path.style.strokeDasharray = `${pathLength}px`;
                    path.style.strokeDashoffset = `${pathLength}px`;

                    // Animate the path to be fully visible
                    setTimeout(() => {
                        path.style.transition = `${this.transDur[svgIndex] / 1000}s cubic-bezier(.1,.5,.4,1)`;
                        path.style.transitionDelay = pathDelay;
                        path.style.strokeDashoffset = "0px";

                        setTimeout(() => {
                            path.style.transition = "0.15s cubic-bezier(.1,.5,.4,1)";
                            path.style.transitionDelay = "0s";
                        }, this.transDur[svgIndex]);

                    }, 0);

                }
            });

        },

        parallaxPaths(){

            this.svgElems.forEach((svgElem) => {
                const svgPaths = svgElem.querySelectorAll("path");

                for (let i = 0; i < svgPaths.length; i++){

                    const windowHeight = window.innerHeight;
                    const path = svgPaths[i];

                    // + 5 removes a gap (it's a visual bug)
                    const pathLength = path.getTotalLength() + 5; 

                    // Get the page scroll percentage 
                    // x * 1.7 makes the unloading faster relative to the scroll position
                    let scrollPercent = 
                        100 - (this.pageScrollVal / windowHeight * 100 * 1.7);

                    // Ensure the scroll percentage stays between 0-100
                    scrollPercent = Math.max(0, Math.min(100, scrollPercent));

                    const pathVisLength = pathLength * (scrollPercent / 100);

                    // Keep strokeDasharray consistent, change strokeDashoffset to control visibility
                    path.style.strokeDasharray = `${pathLength}px`;
                    path.style.strokeDashoffset = `${pathLength - pathVisLength}px`;
                }
            });

        }

    }

});
</script>



<style lang="scss">

.name-heading{

    & .cls-1{
        fill:none;
        stroke:var(--color1a);
        stroke-miterlimit:10;
    }

}

</style>